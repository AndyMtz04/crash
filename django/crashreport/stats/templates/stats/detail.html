{% extends 'stats/base.html' %}
{% block title %}Details for crash report: {{ crash.crash_id }}{% endblock %}

{% block content %}
<div id="tabs" class="no-border ui-tabs ui-widget ui-widget-content ui-corner-all">
    <ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
        <li class="ui-state-default ui-corner-top">
            <a href="#details" class="ui-tabs-anchor">
                <span>Details</span>
            </a>
        </li>
        <li class="ui-state-default ui-corner-top">
            <a href="#metadata" class="ui-tabs-anchor">
                <span>Metadata</span>
            </a>
        </li>
        <li class="ui-state-default ui-corner-top">
            <a href="#modules" class="ui-tabs-anchor">
                <span>Modules</span>
            </a>
        </li>
        <li class="ui-state-default ui-corner-top">
            <a href="#rawdump" class="ui-tabs-anchor">
                <span>Raw Dump</span>
            </a>
        </li>
    </ul>

    <div id="details" class="ui-tabs-panel ui-widget-content ui-corner-bottom">
        <table class="record data-table vertical">
            <tbody>
                <tr>
                    <th scope="row">Signature</th>
                    <td>
                        <a href="{% url 'signature_details' crash.signature %}">
                            {{ crash.signature }}
                        </a>
                    </td>
                </tr>
                <tr>
                    <th scope="row">UUID</th>
                    <td>
                        {{ crash.crash_id }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Version</th>
                    <td>
                        {{ crash.version }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Upload Time</th>
                    <td>
                        {{ crash.upload_time }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">OS</th>
                    <td>
                        {{ crash.os_name }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">OS details</th>
                    <td>
                        {{ crash.os_detail }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Build Architecture</th>
                    <td>
                        {{ crash.cpu_architecture }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">CPU Info</th>
                    <td>
                        {{ crash.cpu_info }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Crash Reason</th>
                    <td>
                        {{ crash.crash_cause }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Crash Address</th>
                    <td>
                        {{ crash.crash_address }}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Crash Thread</th>
                    <td>
                        {{ crash.crash_thread }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="metadata" class="ui-tabs-hide">
        <table class="record data-table vertical">
            <tbody>
                {% if crash.device_id %}
                <tr>
                    <th scope="row">Graphic Device Id</th>
                    <td>
                        {{ crash.device_id }}
                    </td>
                </tr>
                {% endif %}
                {% if crash.vendor_id %}
                <tr>
                    <th scope="row">Graphic Vendor Id</th>
                    <td>
                        {{ crash.vendor_id }}
                    </td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>

    <div id="modules" class="ui-tabs-hide">
        <table class="record data-table vertical">
            <thead>
                <tr>
                    <th scope="col">Module Name</th>
                    <th scope="col">Debug ID</th>
                </tr>
            </thead>
            <tbody>
                {% for module in modules %}
                <tr>
                    <td>
                        {{ module.name }}
                    </td>
                    <td>
                        {{ module.id }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div id="rawdump" class="code">{{ crash.raw }}</div>

</div>

<script>
    $("#tabs").tabs();
</script>
{% endblock %}
